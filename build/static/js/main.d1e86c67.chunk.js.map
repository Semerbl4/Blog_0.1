{"version":3,"sources":["redux/mainReducer.js","redux/errReducer.js","redux/combinedReducers.js","components/Header/Header.jsx","components/Article/Article.jsx","redux/actions.js","components/ArticleList/ArticleList.jsx","components/App/App.jsx","index.jsx","components/Article/Article.module.scss","components/Header/Header.module.scss","components/ArticleList/ArticleList.module.scss","components/App/App.module.scss"],"names":["initialState","currentPage","articles","articlesLoading","reducer","state","action","newState","type","payload","errorGetArticlesForPage","errReducer","combineReducers","mainReducer","Header","buttonSIClasses","cn","headerStyle","button","buttonSI","buttonSUClasses","buttonSU","className","container","titleContainer","title","buttonsContainer","Article","favoritesCount","body","author","createdAt","tagList","slug","likesImgCn","articleStyle","likes","likesImg","article","post","to","tags","map","el","tag","nanoid","content","person","personInfo","personName","username","personDate","month","Date","parse","format","articleDate","avatar","src","image","alt","setPage","page","setArticlesForPage","setArticlesLoading","setErrGetArtForPage","getArticlesForPage","dispatch","a","skippedArticles","fetch","resp","ok","json","connect","actions","useEffect","stateArticles","id","size","articleListStyle","articleList","length","favorited","defaultCurrent","showSizeChanger","total","onChange","appStyle","path","component","exact","render","message","description","showIcon","match","filter","params","selectedArticle","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combinedRedusers","applyMiddleware","reduxThunk","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d1e86c67.chunk.js","sourcesContent":["const initialState = {\n  currentPage: 1,\n  articles: [],\n  articlesLoading: false,\n};\n\nconst reducer = (state = initialState, action) => {\n  const newState = { ...state };\n\n  switch (action.type) {\n    case 'SET_ARTICLES_LOADING':\n      newState.articlesLoading = !newState.articlesLoading;\n      return newState;\n\n    case 'SET_PAGE':\n      newState.currentPage = action.payload;\n      return newState;\n\n    case 'SET_ARTICLES_FOR_PAGE':\n      newState.articles = action.payload;\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","const initialState = {\n  errorGetArticlesForPage: false,\n};\n\nconst errReducer = (state = initialState, action) => {\n  const newState = { ...initialState };\n\n  switch (action.type) {\n    case 'ERROR_GET_ARTICLES_FOR_PAGE':\n      newState.errorGetArticlesForPage = true;\n      return newState;\n\n    default:\n      return state;\n  }\n};\n\nexport default errReducer;\n","import { combineReducers } from 'redux';\n\nimport mainReducer from './mainReducer';\nimport errReducer from './errReducer';\n\nexport default combineReducers({\n  mainReducer,\n  errReducer,\n});\n","import React from 'react';\n\nimport cn from 'classnames';\n\nimport headerStyle from './Header.module.scss';\n\nconst Header = () => {\n  const buttonSIClasses = cn(headerStyle.button, headerStyle.buttonSI);\n  const buttonSUClasses = cn(headerStyle.button, headerStyle.buttonSU);\n\n  return (\n    <div className={headerStyle.container}>\n      <div className={headerStyle.titleContainer}>\n        <p className={headerStyle.title}>Realworld Blog</p>\n      </div>\n      <div className={headerStyle.buttonsContainer}>\n        <button type=\"button\" className={buttonSIClasses}>\n          Sign in\n        </button>\n        <button type=\"button\" className={buttonSUClasses}>\n          Sign Up\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","/* eslint-disable jsx-a11y/interactive-supports-focus */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport { nanoid } from 'nanoid';\n\nimport { format } from 'date-fns';\n\nimport cn from 'classnames';\n\nimport articleStyle from './Article.module.scss';\n\n// import ava from '../../imgs/Ava.png'\n\nconst Article = ({ title, favoritesCount, body, author, createdAt, tagList, slug }) => {\n  const likesImgCn = cn(articleStyle.likes, articleStyle.likesImg);\n\n  const tags = () =>\n    tagList.map((el) => (\n      <li className={articleStyle.tag} key={nanoid()}>\n        {el}\n      </li>\n    ));\n\n  const articleDate = () => {\n    let month = new Date(Date.parse(createdAt));\n    month = format(month, 'LLLL d, y');\n    return month;\n  };\n\n  return (\n    <div className={articleStyle.article}>\n      <div className={articleStyle.post}>\n        <div className={articleStyle.titleContainer}>\n          <Link to={`/atricles/${slug}`}>\n            <h1 className={articleStyle.title} title=\"перейти к статье\">\n              {/* <a role='button' id={slug}\n              onClick={(event) => {\n                event.preventDefault()\n                console.dir(event.target.id)\n              }}\n              onKeyDown={(event) => {\n                event.preventDefault()\n                console.log(event.target)\n              }}> */}\n              {title}\n              {/* </a> */}\n            </h1>\n          </Link>\n          <div className={likesImgCn}>{favoritesCount}</div>\n        </div>\n        <ul type=\"none\" className={articleStyle.tags}>\n          {tags()}\n        </ul>\n        <p className={articleStyle.content}>{body}</p>\n      </div>\n      <div className={articleStyle.person}>\n        <div className={articleStyle.personInfo}>\n          <p className={articleStyle.personName}>{author.username}</p>\n          <p className={articleStyle.personDate}>{articleDate()}</p>\n        </div>\n        <img className={articleStyle.avatar} src={author.image} alt=\"Аватар\" />\n      </div>\n    </div>\n  );\n};\n\nArticle.propTypes = {\n  title: PropTypes.string.isRequired,\n  favoritesCount: PropTypes.number.isRequired,\n  body: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  author: PropTypes.object.isRequired,\n  createdAt: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  tagList: PropTypes.array.isRequired,\n};\n\nexport default Article;\n","// eslint-disable-next-line import/prefer-default-export\nexport const setPage = (page) => ({ type: 'SET_PAGE', payload: page });\n\nexport const setArticlesForPage = (articles) => ({ type: 'SET_ARTICLES_FOR_PAGE', payload: articles });\n\nexport const setArticlesLoading = () => ({ type: 'SET_ARTICLES_LOADING' });\n\nexport const setErrGetArtForPage = () => ({ type: 'ERROR_GET_ARTICLES_FOR_PAGE' });\n\nexport const getArticlesForPage = (page) => async (dispatch) => {\n  dispatch(setArticlesLoading());\n  let skippedArticles = 0;\n  if (page > 1) {\n    skippedArticles = 5 * (page - 1);\n  }\n  let resp = await fetch(`https://conduit.productionready.io/api/articles?limit=5&offset=${skippedArticles}`);\n  if (resp.ok) {\n    resp = await resp.json();\n    dispatch(setArticlesLoading());\n    dispatch(setArticlesForPage(resp.articles));\n  } else {\n    dispatch(setArticlesLoading());\n    dispatch(setErrGetArtForPage());\n  }\n};\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { Pagination, Spin } from 'antd';\n\nimport Article from '../Article/Article';\nimport * as actions from '../../redux/actions';\n\nimport articleListStyle from './ArticleList.module.scss';\nimport 'antd/dist/antd.css';\n\nconst ArticleList = ({ currentPage, articles, setPage, getArticlesForPage, articlesLoading }) => {\n  useEffect(() => {\n    getArticlesForPage(currentPage);\n  }, [currentPage, getArticlesForPage]);\n\n  const createArticles = (stateArticles) => {\n    const arrOfArticles = stateArticles.map((el) => (\n      <li className={articleListStyle.article} key={el.slug}>\n        <Article\n          createdAt={el.createdAt}\n          title={el.title}\n          favorited={el.favorited}\n          favoritesCount={el.favoritesCount}\n          tagList={el.tagList}\n          body={el.body}\n          author={el.author}\n          slug={el.slug}\n        />\n      </li>\n    ));\n    return arrOfArticles;\n  };\n\n  return (\n    <div id=\"ArticleListContainer\">\n      {articlesLoading && <Spin id=\"spiner\" size=\"large\" className=\"ArticleListContainer__spiner\" />}\n      <ul type=\"none\" className={articleListStyle.articleList}>\n        {articles.length > 0 && !articlesLoading && createArticles(articles)}\n      </ul>\n      {articles.length > 0 && !articlesLoading && (\n        <Pagination\n          className=\"pagination\"\n          defaultCurrent={currentPage}\n          showSizeChanger={false}\n          total={5000}\n          onChange={(page) => {\n            setPage(page);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nArticleList.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n  setPage: PropTypes.func.isRequired,\n  getArticlesForPage: PropTypes.func.isRequired,\n  articlesLoading: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  currentPage: state.mainReducer.currentPage,\n  articles: state.mainReducer.articles,\n  articlesLoading: state.mainReducer.articlesLoading,\n});\n\nexport default connect(mapStateToProps, actions)(ArticleList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport { Alert } from 'antd';\n\nimport appStyle from './App.module.scss';\n\nimport Header from '../Header/Header';\nimport ArticleList from '../ArticleList/ArticleList';\nimport Article from '../Article/Article';\n\nimport 'antd/dist/antd.css';\n// import OpenedArticle from '../OpenedArticle/OpenedArticle'\n\nconst App = ({ articles, errorGetArticlesForPage }) => (\n  <div className={appStyle.container}>\n    <BrowserRouter>\n      <Route path=\"/\" component={Header} />\n      <Route\n        exact\n        path={['/', '/articles']}\n        render={() => {\n          if (errorGetArticlesForPage) {\n            return <Alert message=\"Ошибка\" description=\"Не удалось получить статьи с сервера\" type=\"error\" showIcon />;\n          }\n          return <ArticleList />;\n        }}\n      />\n      <Route\n        exact\n        path=\"/atricles/:slug\"\n        render={({ match }) => {\n          const [selectedArticle] = articles.filter((el) => el.slug === match.params.slug);\n          return (\n            <Article\n              createdAt={selectedArticle.createdAt}\n              title={selectedArticle.title}\n              favorited={selectedArticle.favorited}\n              favoritesCount={selectedArticle.favoritesCount}\n              tagList={selectedArticle.tagList}\n              body={selectedArticle.body}\n              author={selectedArticle.author}\n              slug={selectedArticle.slug}\n            />\n          );\n        }}\n      />\n    </BrowserRouter>\n    {/* <OpenedArticle /> */}\n  </div>\n);\n\nApp.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  articles: PropTypes.array.isRequired,\n  errorGetArticlesForPage: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  articles: state.mainReducer.articles,\n  errorGetArticlesForPage: state.errReducer.errorGetArticlesForPage,\n});\n\nexport default connect(mapStateToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport { Provider } from 'react-redux';\n\nimport combinedRedusers from './redux/combinedReducers';\n\nimport App from './components/App/App';\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nconst store = createStore(combinedRedusers, composeEnhancers(applyMiddleware(reduxThunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"Article_article__O2BXt\",\"post\":\"Article_post__eN5f6\",\"titleContainer\":\"Article_titleContainer__1tLpX\",\"title\":\"Article_title__28Wul\",\"likes\":\"Article_likes__1antA\",\"likesImg\":\"Article_likesImg__38HQq\",\"tags\":\"Article_tags__2yNJ7\",\"tag\":\"Article_tag__c8EWH\",\"content\":\"Article_content__2wZaX\",\"person\":\"Article_person__1iLTQ\",\"personInfo\":\"Article_personInfo__1N1gN\",\"personName\":\"Article_personName__2Tq9L\",\"personDate\":\"Article_personDate__1Gh-P\",\"avatar\":\"Article_avatar__2-HLx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Header_container__2cj_m\",\"titleContainer\":\"Header_titleContainer__2hjOH\",\"title\":\"Header_title__3gLt3\",\"buttonsContainer\":\"Header_buttonsContainer__22Q7B\",\"button\":\"Header_button__3bzFQ\",\"buttonSI\":\"Header_buttonSI__2zDqM\",\"buttonSU\":\"Header_buttonSU__3We-Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"articleList\":\"ArticleList_articleList__1KrQA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__228U4\"};"],"sourceRoot":""}